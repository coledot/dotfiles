#! /bin/bash
# .bash_interactive: configuration to be used only for interactive bash shells

# more fun stuff re: completion
GITINFO=''
if [ -e /usr/share/git/completion/git-prompt.sh ]; then
    export GIT_PS1_SHOWDIRTYSTATE=true
    source /usr/share/git/completion/git-prompt.sh
    GITINFO=' \[\033[00;37m\]$(__git_ps1)'
fi

CURRENTDIR='\[\033[01;34m\]\w\[\033[01;37m\]'
USERATHOST='\[\033[01;32m\]\u\[\033[0;37m\]@\[\033[01;37m\]\h\[\033[00;37m\]'
RESETCOLOR='\[\033[00m\]'
export PS1="${CURRENTDIR}${GITINFO}\n${USERATHOST} \$ ${RESETCOLOR}"
unset CURRENTDIR
unset USERATHOST
unset RESETCOLOR
unset GITINFO

shopt -s checkwinsize

if [ -e /usr/local/etc/bash_completion.d/git-completion.bash ]; then
    __git_complete gco _git_checkout
    __git_complete gdf _git_diff
    __git_complete gll _git_pull
    __git_complete gsh _git_push
fi

# disable xon/off (annoying)
stty stop undef
stty start undef
stty -ixon
stty -ixoff

# autostart tmux, but only if in Xorg and if shell is interactive
[[ $DISPLAY ]] && [[ -z "$TMUX" ]] && exec tmux

# vim: et ts=4 sw=4
